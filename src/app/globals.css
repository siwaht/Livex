@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground: 248 250 252;
  --background: 15 23 42;
  --card: 30 41 59;
  --primary: 14 165 233;
  --primary-hover: 2 132 199;
  --accent: 34 211 238;
  --muted: 100 116 139;
  --border: 51 65 85;
  --success: 34 197 94;
  --danger: 239 68 68;
  --warning: 234 179 8;
}

/* Smooth transitions globally */
* {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  color: rgb(var(--foreground));
  background: rgb(var(--background));
  min-height: 100vh;
  font-feature-settings: "rlig" 1, "calt" 1;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--card));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--border));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--muted));
}

/* LiveKit component overrides */
[data-lk-theme="default"] {
  --lk-bg: transparent;
  --lk-bg2: rgba(30, 41, 59, 0.9);
  --lk-accent: rgb(var(--primary));
  --lk-accent-fg: #ffffff;
}

/* Base components */
@layer components {
  .card {
    @apply bg-slate-800/50 backdrop-blur-sm border border-slate-700/40 rounded-xl;
  }

  .card-hover {
    @apply hover:border-slate-600/50 hover:bg-slate-800/70;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 font-medium rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900;
  }

  .btn-primary {
    @apply btn bg-sky-500 hover:bg-sky-400 text-white px-4 py-2 focus:ring-sky-500;
  }

  .btn-secondary {
    @apply btn bg-slate-700 hover:bg-slate-600 text-slate-200 px-4 py-2 border border-slate-600/50 focus:ring-slate-500;
  }

  .btn-ghost {
    @apply btn text-slate-400 hover:text-white hover:bg-slate-700/50 px-3 py-2 focus:ring-slate-500;
  }

  .btn-danger {
    @apply btn bg-red-500/20 hover:bg-red-500/30 text-red-400 px-4 py-2 border border-red-500/30 focus:ring-red-500;
  }

  .btn-icon {
    @apply btn p-2 text-slate-400 hover:text-white hover:bg-slate-700/50 rounded-lg focus:ring-slate-500;
  }

  .btn-sm {
    @apply text-sm px-3 py-1.5;
  }

  .btn-lg {
    @apply text-lg px-6 py-3;
  }

  .input {
    @apply w-full bg-slate-900/50 border border-slate-700/50 rounded-lg px-3 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-sky-500/50 focus:ring-1 focus:ring-sky-500/20;
  }

  .input-sm {
    @apply px-3 py-2 text-sm;
  }

  .select {
    @apply input appearance-none cursor-pointer bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2024%2024%22%20stroke%3D%22%2394a3b8%22%3E%3Cpath%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22M19%209l-7%207-7-7%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.25rem] bg-[right_0.5rem_center] bg-no-repeat pr-8;
  }

  .textarea {
    @apply input resize-none;
  }

  .label {
    @apply block text-sm font-medium text-slate-400 mb-1.5;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-emerald-500/20 text-emerald-400 border border-emerald-500/30;
  }

  .badge-warning {
    @apply badge bg-amber-500/20 text-amber-400 border border-amber-500/30;
  }

  .badge-danger {
    @apply badge bg-red-500/20 text-red-400 border border-red-500/30;
  }

  .badge-info {
    @apply badge bg-sky-500/20 text-sky-400 border border-sky-500/30;
  }

  .badge-purple {
    @apply badge bg-purple-500/20 text-purple-400 border border-purple-500/30;
  }

  .page-container {
    @apply min-h-screen flex flex-col;
  }

  .page-content {
    @apply flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8;
  }

  .page-header {
    @apply mb-6 sm:mb-8;
  }

  .page-title {
    @apply text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2;
  }

  .page-subtitle {
    @apply text-slate-400 text-sm sm:text-base;
  }

  .grid-cards {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4;
  }

  .modal-content {
    @apply bg-slate-800 w-full sm:rounded-xl sm:max-w-lg max-h-[85vh] overflow-hidden flex flex-col rounded-t-xl;
  }

  .modal-content-lg {
    @apply sm:max-w-2xl;
  }

  .modal-header {
    @apply flex items-center justify-between p-4 border-b border-slate-700/50;
  }

  .modal-title {
    @apply text-lg font-semibold text-white;
  }

  .modal-body {
    @apply p-4 flex-1 overflow-y-auto;
  }

  .modal-footer {
    @apply p-4 border-t border-slate-700/50 flex flex-col-reverse sm:flex-row gap-2 sm:justify-end;
  }

  .empty-state {
    @apply text-center py-12 sm:py-16;
  }

  .empty-state-icon {
    @apply mx-auto mb-4 text-slate-600;
  }

  .empty-state-text {
    @apply text-slate-400 mb-6;
  }

  .alert {
    @apply p-4 rounded-xl flex items-start gap-3 mb-6;
  }

  .alert-error {
    @apply alert bg-red-500/10 border border-red-500/30;
  }

  .spinner {
    @apply animate-spin rounded-full border-2 border-slate-600 border-t-sky-500;
  }

  .divider {
    @apply border-t border-slate-700/50 my-4 sm:my-6;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgba(14, 165, 233, 0.4); }
  50% { box-shadow: 0 0 20px 5px rgba(14, 165, 233, 0.2); }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out;
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Mobile-specific adjustments */
@media (max-width: 640px) {
  .modal-content {
    max-height: 85vh;
    margin-top: auto;
  }
}

/* Focus visible for accessibility */
.focus-visible:focus-visible {
  @apply outline-none ring-2 ring-sky-500 ring-offset-2 ring-offset-slate-900;
}
